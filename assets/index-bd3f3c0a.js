import{I as S,s as j,x as H,y as B,u as l,d as D,r as v,b as C,k as u,C as N,e as _,f as L,t as R,l as W,n as z,o as x,J as m,K as M,_ as O}from"./index-2265450d.js";const T=(n,e,r)=>{const o=t=>{r(t)};S(n)?j(n,(t,i)=>{i==null||i.removeEventListener(e,o),t==null||t.addEventListener(e,o)}):H(()=>{n.addEventListener(e,o)});const s=()=>{var t;(t=l(n))==null||t.removeEventListener(e,o)};return B(()=>{s()}),s},$=(n,e)=>{const r=(e==null?void 0:e.target)??window,o=navigator.userAgent.toLowerCase().includes("mac");let s=!1,t=e==null?void 0:e.key;const i=()=>{const a=e||{},c=[];return a.ctrlKey&&c.push(o?"Cmd":"Ctrl"),a.shiftKey&&c.push(o?"Option":"Shift"),c.push(t),c},y=T(r,"keydown",a=>{a.stopPropagation();const c=e||{};if(!(s||!t)&&(t=typeof t=="string"?[t]:t,t.includes(a.key.toLowerCase())&&A(c,a))){a.preventDefault();const h=n();if(typeof h!="function")return;const f=l(r)??window,p=K=>{K.preventDefault(),h(),f.removeEventListener("keyup",p)};f.addEventListener("keyup",p)}});return n.hotKey=i(),n.directions=(e==null?void 0:e.directions)??"",n.removeListener=y,n.pause=()=>s=!0,n.unpause=()=>s=!1,n},A=(n,e)=>{const r=n.ctrlKey??!1,o=n.shiftKey??!1;if(n.exact)return(r===e.metaKey||r===e.ctrlKey)&&o===e.shiftKey;const s=[];return s.push(r===e.metaKey||r===e.ctrlKey),s.push(o===e.shiftKey),s.every(t=>t)},d=$,I=n=>(W("data-v-847acd47"),n=n(),z(),n),J={class:"container"},P={key:0,class:"hotkey"},U=I(()=>u("h1",null,"快捷键绑定区域",-1)),Y=["onClick"],q=I(()=>u("h2",null,"快捷键消息",-1)),G=D({__name:"index",setup(n){var h,f,p,K,b,g;const e=v(null),r=v(!0),o=v(),s=d(()=>{o.value="复制功能"},{key:"c",ctrlKey:!0,directions:"复制",target:e}),t=d(()=>{o.value="剪切功能"},{key:"x",ctrlKey:!0,directions:"剪切",target:e}),i=d(()=>{o.value="粘贴功能"},{key:"v",ctrlKey:!0,directions:"粘贴",target:e}),k=d(()=>{o.value="撤销功能"},{key:"z",ctrlKey:!0,directions:"撤销"}),y=d(()=>{o.value="重做功能"},{key:"z",ctrlKey:!0,shiftKey:!0,exact:!0,directions:"重做"}),a=d(()=>(o.value="Y消息",()=>{o.value=""}),{key:"y",directions:"按下设置消息，抬起清楚消息"}),c=[{hotkey:(h=s.hotKey)==null?void 0:h.join("+"),label:s.directions,target:"Input",action:s},{hotkey:(f=t.hotKey)==null?void 0:f.join("+"),label:t.directions,target:"Input",action:t},{hotkey:(p=i.hotKey)==null?void 0:p.join("+"),label:i.directions,target:"Input",action:i},{hotkey:(K=k.hotKey)==null?void 0:K.join("+"),label:k.directions,target:"Window",action:k},{hotkey:(b=y.hotKey)==null?void 0:b.join("+"),label:y.directions,target:"Window",action:y},{hotkey:(g=a.hotKey)==null?void 0:g.join("+"),label:a.directions,target:"Window",action:a}];return(Q,w)=>(x(),C("div",J,[u("button",{onClick:w[0]||(w[0]=E=>r.value=!r.value)},"切换"),r.value?(x(),C("div",P,[U,u("input",{ref_key:"hotkeyRef",ref:e},null,512)])):N("",!0),_(l(M),{stripe:"",border:!0,data:c},{default:L(()=>[_(l(m),{prop:"target",label:"绑定区域"}),_(l(m),{prop:"label",label:"说明"}),_(l(m),{prop:"hotkey",label:"快捷键"}),_(l(m),{prop:"option",label:"操作"},{default:L(({row:E})=>[u("button",{onClick:E.action},"立即执行",8,Y)]),_:1})]),_:1}),q,u("h1",null,R(o.value),1)]))}});const X=O(G,[["__scopeId","data-v-847acd47"]]);export{X as default};
