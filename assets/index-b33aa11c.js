import{D as y,E as b,e as i,d as m,c as $,a as B,o as f,h as D,f as u,k as v,j as p,u as d,G as N,b as T,t as R,H as k}from"./index-5dfb1015.js";const h=o=>{let e=document.body;return o.appendTo&&(typeof o.appendTo=="string"&&(e=document.querySelector(o.appendTo)),o.appendTo instanceof HTMLElement&&(e=o.appendTo),e instanceof HTMLElement||(e=document.body)),e},H=(o,e,s,l=null)=>{const n=i(o,e);return n.appContext=l,b(n,s),h(e).appendChild(s),n},E=o=>{var a,c;const e=(a=y())==null?void 0:a.appContext;if(e){const t=(c=y())==null?void 0:c.provides;Reflect.set(e,"provides",{...e.provides,...t})}const s=document.createElement("div"),l=()=>{var t;b(null,s),(t=s.parentNode)==null||t.removeChild(s)},n=t=>{var x;if(Reflect.has(t,"visible")||(t.visible=!0),typeof t.onClose!="function")t.onClose=l;else{const r=t.onClose;t.onClose=()=>{r(),l()}}const C=H(o,t,s,e),_=(x=C.component)==null?void 0:x.proxy;for(const r in t)Reflect.has(t,r)&&!Reflect.has(_.$props,r)&&(_[r]=t[r]);return C};return n.close=l,n},M=v("span",null,"This is a message",-1),V=m({__name:"MyDialog",props:{visible:{type:Boolean},title:{}},emits:["update:visible","close"],setup(o,{emit:e}){const s=o,l=$({get(){return s.visible},set(n){e("update:visible",n),n||e("close")}});return(n,a)=>{const c=B("el-button");return f(),D(d(N),{modelValue:l.value,"onUpdate:modelValue":a[2]||(a[2]=t=>l.value=t),title:n.title,width:"30%"},{footer:u(()=>[v("span",null,[i(c,{onClick:a[0]||(a[0]=t=>l.value=!1)},{default:u(()=>[p("Cancel")]),_:1}),i(c,{type:"primary",onClick:a[1]||(a[1]=t=>l.value=!1)},{default:u(()=>[p(" Confirm ")]),_:1})])]),default:u(()=>[M]),_:1},8,["modelValue","title"])}}}),g=m({__name:"Comp",props:{text:{}},setup(o){const e=o,s=E(V);return(l,n)=>(f(),T("div",null,[v("span",null,R(e.text),1),i(d(k),{onClick:n[0]||(n[0]=a=>d(s)({title:e.text}))},{default:u(()=>[p("提交（需确认）")]),_:1})]))}}),I=m({__name:"index",setup(o){const e=E(V);return(s,l)=>(f(),T("div",null,[i(d(k),{onClick:l[0]||(l[0]=n=>d(e)({title:"父组件弹窗"}))},{default:u(()=>[p(" 打开弹窗 ")]),_:1}),i(g,{text:"子组件1"}),i(g,{text:"子组件2"})]))}});export{I as default};
